---
import { getCollection } from "astro:content";

import BaseLayout from "../layouts/BaseLayout.astro";
import ProjectCard from "../components/ProjectCard.astro";
import Divider from "../components/Divider.astro";

const projectsCollection = await getCollection("projects");
---

<BaseLayout title="Works">
  <section class="mx-auto mt-4 flex w-fit flex-col p-7 sm:mt-20">
    <h1 class="text-white-shadow font-newsreader text-center text-4xl italic">
      Works
    </h1>
    <h2 class="text-muted text-center text-lg font-extralight italic">
      A list of projects I've worked on
    </h2>
    <Divider class="mt-2 mb-8" />
    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
      {projectsCollection.map((projectEntry) => <ProjectCard {projectEntry} />)}
    </div>
  </section>
</BaseLayout>
